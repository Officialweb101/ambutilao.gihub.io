<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Explanation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Code Explanation</h1>
        
        <div class="purpose">
            <h2>Purpose of the Application</h2>
            <p>This application is designed to explain a C++ program that handles process scheduling. It allows users to understand the code step-by-step, making it easier to learn about how processes are managed in a computer system.</p>
        </div>

        <div id="explanation" class="explanation-box">
            <!-- Explanation content will be dynamically inserted here -->
        </div>

        <div class="code-section">
            <h2>Code:</h2>
            <pre id="code-block">
#include <iostream> <button class="explain-button" onclick="explainSection('includes1')">Explain</button>
#include <vector> <button class="explain-button" onclick="explainSection('includes2')">Explain</button>
#include <iomanip> <button class="explain-button" onclick="explainSection('includes3')">Explain</button>
#include <algorithm>  // for max() <button class="explain-button" onclick="explainSection('includes4')">Explain</button>
using namespace std; <button class="explain-button" onclick="explainSection('namespace')">Explain</button>

// Structure to hold process information
struct Process { <button class="explain-button" onclick="explainSection('struct')">Explain</button>
    int id; <button class="explain-button" onclick="explainSection('id')">Explain</button>
    int arrivalTime; <button class="explain-button" onclick="explainSection('arrivalTime')">Explain</button>
    int burstTime; <button class="explain-button" onclick="explainSection('burstTime')">Explain</button>
    int completionTime; <button class="explain-button" onclick="explainSection('completionTime')">Explain</button>
    int waitingTime; <button class="explain-button" onclick="explainSection('waitingTime')">Explain</button>
    int turnaroundTime; <button class="explain-button" onclick="explainSection('turnaroundTime')">Explain</button>
};

int main() { <button class="explain-button" onclick="explainSection('mainStart')">Explain</button>
    int numProcesses; <button class="explain-button" onclick="explainSection('numProcesses')">Explain</button>
    cout << "Enter the number of processes: "; <button class="explain-button" onclick="explainSection('coutNumProcesses')">Explain</button>
    cin >> numProcesses; <button class="explain-button" onclick="explainSection('cinNumProcesses')">Explain</button>

    vector<Process> processes(numProcesses); <button class="explain-button" onclick="explainSection('vectorProcesses')">Explain</button>

    // Input arrival and burst times for each process
    for (int i = 0; i < numProcesses; ++i) { <button class="explain-button" onclick="explainSection('forLoopInput')">Explain</button>
        processes[i].id = i + 1; <button class="explain-button" onclick="explainSection('processId')">Explain</button>
        cout << "\nProcess " << processes[i].id << ":\n"; <button class="explain-button" onclick="explainSection('coutProcessId')">Explain</button>
        cout << "  Enter arrival time: "; <button class="explain-button" onclick="explainSection('coutArrivalTime')">Explain</button>
        cin >> processes[i].arrivalTime; <button class="explain-button" onclick="explainSection('cinArrivalTime')">Explain</button>
        cout << "  Enter burst time: "; <button class="explain-button" onclick="explainSection('coutBurstTime')">Explain</button>
        cin >> processes[i].burstTime; <button class="explain-button" onclick="explainSection('cinBurstTime')">Explain</button>
    }

    // Initialize the first process start time and calculate completion time, turnaround time, and waiting time
    int currentTime =  0; // to track the current time of execution
    for (int i = 0; i < numProcesses; ++i) { <button class="explain-button" onclick="explainSection('forLoopCalc')">Explain</button>
        int startTime = max(currentTime, processes[i].arrivalTime); <button class="explain-button" onclick="explainSection('startTimeCalc')">Explain</button>
        processes[i].completionTime = startTime + processes[i].burstTime; <button class="explain-button" onclick="explainSection('completionTimeCalc')">Explain</button>
        processes[i].turnaroundTime = processes[i].completionTime - processes[i].arrivalTime; <button class="explain-button" onclick="explainSection('turnaroundTimeCalc')">Explain</button>
        processes[i].waitingTime = processes[i].turnaroundTime - processes[i].burstTime; <button class="explain-button" onclick="explainSection('waitingTimeCalc')">Explain</button>

        currentTime = processes[i].completionTime; <button class="explain-button" onclick="explainSection('updateCurrentTime')">Explain</button>
    }

    // Display results in a table format
    cout << "\nProcess\tArrival Time\tBurst Time\tCompletion Time\tTurnaround Time\tWaiting Time\n"; <button class="explain-button" onclick="explainSection('coutTableHeader')">Explain</button>
    for (const auto& p : processes) { <button class="explain-button" onclick="explainSection('forLoopDisplay')">Explain</button>
        cout << "P" << p.id << "\t\t" <button class="explain-button" onclick="explainSection('coutProcessIdDisplay')">Explain</button>
             << p.arrivalTime << "\t\t" <button class="explain-button" onclick="explainSection('coutArrivalTimeDisplay')">Explain</button>
             << p.burstTime << "\t\t" <button class="explain-button" onclick="explainSection('coutBurstTimeDisplay')">Explain</button>
             << p.completionTime << "\t\t" <button class="explain-button" onclick="explainSection('coutCompletionTimeDisplay')">Explain</button>
             << p.turnaroundTime << "\t\t" <button class="explain-button" onclick="explainSection('coutTurnaroundTimeDisplay')">Explain</button>
             << p.waitingTime << "\n"; <button class="explain-button" onclick="explainSection('coutWaitingTimeDisplay')">Explain</button>
    }

    // Calculate average waiting and turnaround times
    double totalWaitingTime = 0, totalTurnaroundTime = 0; <button class="explain-button" onclick="explainSection('totalTimesInit')">Explain</button>
    for (const auto& p : processes) { <button class="explain-button" onclick="explainSection('forLoopTotalTimes')">Explain</button>
        totalWaitingTime += p.waitingTime; <button class="explain-button" onclick="explainSection('totalWaitingTimeCalc')">Explain</button>
        totalTurnaroundTime += p.turnaroundTime; <button class="explain-button" onclick="explainSection('totalTurnaroundTimeCalc')">Explain</button>
    }
    cout << "\nAverage Waiting Time: " << fixed << setprecision(2) << totalWaitingTime / numProcesses; <button class="explain-button" onclick="explainSection('coutAvgWaitingTime')">Explain</button>
    cout << "\nAverage Turnaround Time: " << fixed << setprecision(2) << totalTurnaroundTime / numProcesses << "\n"; <button class="explain-button" onclick="explainSection('coutAvgTurnaroundTime')">Explain</button>

    // Gantt Chart (for visualization of process execution)
    cout << "\nGantt Chart:\n"; <button class="explain-button" onclick="explainSection('coutGanttChartHeader')">Explain</button>
    cout << " "; <button class="explain-button" onclick="explainSection('coutGanttChartSpace')">Explain</button>
    for (const auto& p : processes) { <button class="explain-button" onclick="explainSection('forLoopGanttChart')">Explain</button>
        cout << "-------"; <button class="explain-button" onclick="explainSection('coutGanttChartSeparator')">Explain</button>
    }
    cout << "\n|"; <button class="explain-button" onclick="explainSection('coutGanttChartStart')">Explain</button>
    for ( ```html
const auto& p : processes) { <button class="explain-button" onclick="explainSection('forLoopGanttChartIds')">Explain</button>
        cout << "  P" << p.id << "   |"; <button class="explain-button" onclick="explainSection('coutGanttChartId')">Explain</button>
    }
    cout << "\n "; <button class="explain-button" onclick="explainSection('coutGanttChartSpaceEnd')">Explain</button>
    for (const auto& p : processes) { <button class="explain-button" onclick="explainSection('forLoopGanttChartEnd')">Explain</button>
        cout << "-------"; <button class="explain-button" onclick="explainSection('coutGanttChartSeparatorEnd')">Explain</button>
    }
    cout << "\n"; <button class="explain-button" onclick="explainSection('coutGanttChartNewline')">Explain</button>

    // Print completion times below the Gantt chart
    currentTime = 0;  // Reset current time to print the completion times
    for (const auto& p : processes) { <button class="explain-button" onclick="explainSection('forLoopGanttChartTimes')">Explain</button>
        cout << currentTime << "\t"; <button class="explain-button" onclick="explainSection('coutGanttChartStartTime')">Explain</button>
        currentTime = p.completionTime; <button class="explain-button" onclick="explainSection('updateCurrentTimeGantt')">Explain</button>
    }
    cout << endl;  // Print the final completion time

    return 0; <button class="explain-button" onclick="explainSection('return0')">Explain</button>
}
            </pre>
        </div>

        <div class="summary-report">
            <h2>Summary Report</h2>
            <p>This C++ program is designed to manage and schedule processes based on user input. It collects information about each process, including its arrival time and burst time, and calculates various metrics such as completion time, waiting time, and turnaround time. The program then displays this information in a structured format, including a Gantt chart that visually represents the execution order of the processes. This helps users understand how processes are scheduled and managed in a computing environment, making it a valuable educational tool for learning about process scheduling algorithms.</p>
        </div>

        <div class="export-section">
            <h2>Export Code</h2>
            <button id="export-button" class="explain-button" onclick="exportCode()">Export as .cpp</button>
            <a href="https://www.jdoodle.com/c-online-compiler" target="_blank" class="explain-button">Try the Code Yourself</a>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
